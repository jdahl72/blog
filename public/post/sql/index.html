<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>SQL</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.31.1" />
        


        
            <meta name="author" content="Jeremy Dahl">
        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="SQL"/>
<meta name="twitter:description" content="SQL Filtering Rows and Columns
With SQL, you can filter columns with SELECT and rows with WHERE. Let’s look at an example using the Lahman baseball database.First we need to load some packages.
library(Lahman) library(sqldf) Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following:
query&lt;-&quot;SELECT playerID,yearID,teamID,HR FROM Batting WHERE teamID=&#39;NYA&#39;and yearID=1927&quot; sqldf(query) ## playerID yearID teamID HR ## 1 beallwa01 1927 NYA 0 ## 2 bengobe01 1927 NYA 0 ## 3 collipa01 1927 NYA 7 ## 4 combsea01 1927 NYA 6 ## 5 duganjo01 1927 NYA 2 ## 6 durstce01 1927 NYA 0 ## 7 gazelmi01 1927 NYA 0 ## 8 gehrilo01 1927 NYA 47 ## 9 giardjo01 1927 NYA 0 ## 10 grabojo01 1927 NYA 0 ## 11 hoytwa01 1927 NYA 0 ## 12 koenima01 1927 NYA 3 ## 13 lazzeto01 1927 NYA 18 ## 14 meusebo01 1927 NYA 8 ## 15 moorewi01 1927 NYA 1 ## 16 morehra01 1927 NYA 1 ## 17 paschbe01 1927 NYA 2 ## 18 pennohe01 1927 NYA 0 ## 19 pipgrge01 1927 NYA 1 ## 20 ruethdu01 1927 NYA 1 ## 21 ruthba01 1927 NYA 60 ## 22 shawkbo01 1927 NYA 0 ## 23 shockur01 1927 NYA 0 ## 24 thomamy01 1927 NYA 0 ## 25 weraju01 1927 NYA 1 In this scenario, we can filter our selection to players from the New York Yankees who have had seasons of 40 or more home runs while striking out less than 60 times, which is quite a feat."/>

        <meta property="og:title" content="SQL" />
<meta property="og:description" content="SQL Filtering Rows and Columns
With SQL, you can filter columns with SELECT and rows with WHERE. Let’s look at an example using the Lahman baseball database.First we need to load some packages.
library(Lahman) library(sqldf) Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following:
query&lt;-&quot;SELECT playerID,yearID,teamID,HR FROM Batting WHERE teamID=&#39;NYA&#39;and yearID=1927&quot; sqldf(query) ## playerID yearID teamID HR ## 1 beallwa01 1927 NYA 0 ## 2 bengobe01 1927 NYA 0 ## 3 collipa01 1927 NYA 7 ## 4 combsea01 1927 NYA 6 ## 5 duganjo01 1927 NYA 2 ## 6 durstce01 1927 NYA 0 ## 7 gazelmi01 1927 NYA 0 ## 8 gehrilo01 1927 NYA 47 ## 9 giardjo01 1927 NYA 0 ## 10 grabojo01 1927 NYA 0 ## 11 hoytwa01 1927 NYA 0 ## 12 koenima01 1927 NYA 3 ## 13 lazzeto01 1927 NYA 18 ## 14 meusebo01 1927 NYA 8 ## 15 moorewi01 1927 NYA 1 ## 16 morehra01 1927 NYA 1 ## 17 paschbe01 1927 NYA 2 ## 18 pennohe01 1927 NYA 0 ## 19 pipgrge01 1927 NYA 1 ## 20 ruethdu01 1927 NYA 1 ## 21 ruthba01 1927 NYA 60 ## 22 shawkbo01 1927 NYA 0 ## 23 shockur01 1927 NYA 0 ## 24 thomamy01 1927 NYA 0 ## 25 weraju01 1927 NYA 1 In this scenario, we can filter our selection to players from the New York Yankees who have had seasons of 40 or more home runs while striking out less than 60 times, which is quite a feat." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jeremysblog.netlify.com/post/sql/" />



<meta property="article:published_time" content="2017-10-01T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2017-10-01T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="SQL">
<meta itemprop="description" content="SQL Filtering Rows and Columns
With SQL, you can filter columns with SELECT and rows with WHERE. Let’s look at an example using the Lahman baseball database.First we need to load some packages.
library(Lahman) library(sqldf) Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following:
query&lt;-&quot;SELECT playerID,yearID,teamID,HR FROM Batting WHERE teamID=&#39;NYA&#39;and yearID=1927&quot; sqldf(query) ## playerID yearID teamID HR ## 1 beallwa01 1927 NYA 0 ## 2 bengobe01 1927 NYA 0 ## 3 collipa01 1927 NYA 7 ## 4 combsea01 1927 NYA 6 ## 5 duganjo01 1927 NYA 2 ## 6 durstce01 1927 NYA 0 ## 7 gazelmi01 1927 NYA 0 ## 8 gehrilo01 1927 NYA 47 ## 9 giardjo01 1927 NYA 0 ## 10 grabojo01 1927 NYA 0 ## 11 hoytwa01 1927 NYA 0 ## 12 koenima01 1927 NYA 3 ## 13 lazzeto01 1927 NYA 18 ## 14 meusebo01 1927 NYA 8 ## 15 moorewi01 1927 NYA 1 ## 16 morehra01 1927 NYA 1 ## 17 paschbe01 1927 NYA 2 ## 18 pennohe01 1927 NYA 0 ## 19 pipgrge01 1927 NYA 1 ## 20 ruethdu01 1927 NYA 1 ## 21 ruthba01 1927 NYA 60 ## 22 shawkbo01 1927 NYA 0 ## 23 shockur01 1927 NYA 0 ## 24 thomamy01 1927 NYA 0 ## 25 weraju01 1927 NYA 1 In this scenario, we can filter our selection to players from the New York Yankees who have had seasons of 40 or more home runs while striking out less than 60 times, which is quite a feat.">


<meta itemprop="datePublished" content="2017-10-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-10-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="637">



<meta itemprop="keywords" content="SQL," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
        

        

        
            
        
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      
          <h1><a href="/">post</a></h1>
      
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://jeremysblog.netlify.com">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://jeremysblog.netlify.com">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://jeremysblog.netlify.com/post/bar-plots/"><p>Bar Plots</p></a>
                    </li>
                
                    <li>
                        <a href="https://jeremysblog.netlify.com/post/histograms/"><p>Histograms</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&text=SQL&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by Jeremy%20Dahl&body=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="https://jeremysblog.netlify.com/post/sql/">SQL</a></h1>
            
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2017-10-01'>
            October 1, 2017</time>
        <span class="author">Jeremy Dahl</span>
        
            <p>3 minute read</p>
        
        
    </div>
</header>


    
    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&text=SQL&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f&title=SQL" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by Jeremy%20Dahl&body=https%3a%2f%2fjeremysblog.netlify.com%2fpost%2fsql%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    

    

    <div id="content">
        <p>SQL Filtering Rows and Columns</p>
<p>With SQL, you can filter columns with SELECT and rows with WHERE. Let’s look at an example using the Lahman baseball database.First we need to load some packages.</p>
<pre class="r"><code>library(Lahman)
library(sqldf)</code></pre>
<p>Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following:</p>
<pre class="r"><code>query&lt;-&quot;SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID=&#39;NYA&#39;and yearID=1927&quot;
sqldf(query)</code></pre>
<pre><code>##     playerID yearID teamID HR
## 1  beallwa01   1927    NYA  0
## 2  bengobe01   1927    NYA  0
## 3  collipa01   1927    NYA  7
## 4  combsea01   1927    NYA  6
## 5  duganjo01   1927    NYA  2
## 6  durstce01   1927    NYA  0
## 7  gazelmi01   1927    NYA  0
## 8  gehrilo01   1927    NYA 47
## 9  giardjo01   1927    NYA  0
## 10 grabojo01   1927    NYA  0
## 11  hoytwa01   1927    NYA  0
## 12 koenima01   1927    NYA  3
## 13 lazzeto01   1927    NYA 18
## 14 meusebo01   1927    NYA  8
## 15 moorewi01   1927    NYA  1
## 16 morehra01   1927    NYA  1
## 17 paschbe01   1927    NYA  2
## 18 pennohe01   1927    NYA  0
## 19 pipgrge01   1927    NYA  1
## 20 ruethdu01   1927    NYA  1
## 21  ruthba01   1927    NYA 60
## 22 shawkbo01   1927    NYA  0
## 23 shockur01   1927    NYA  0
## 24 thomamy01   1927    NYA  0
## 25  weraju01   1927    NYA  1</code></pre>
<p>In this scenario, we can filter our selection to players from the New York Yankees who have had seasons of 40 or more home runs while striking out less than 60 times, which is quite a feat.</p>
<pre class="r"><code>query&lt;-&quot;SELECT playerID,teamID,yearID,HR FROM Batting
WHERE teamID=&#39;NYA&#39; and HR&gt;=40 and SO&lt;60&quot;
sqldf(query)</code></pre>
<pre><code>##    playerID teamID yearID HR
## 1 gehrilo01    NYA   1931 46
## 2  ruthba01    NYA   1931 46
## 3 gehrilo01    NYA   1934 49
## 4 gehrilo01    NYA   1936 49
## 5 dimagjo01    NYA   1937 46</code></pre>
<p>If we want to broaden the search, we can select players from any team who had more than 40 home runs and less than 60 strikeouts.</p>
<pre class="r"><code>query&lt;-&quot;SELECT playerID,teamID,yearID,HR,SO FROM Batting
WHERE HR&gt;40 and SO&lt;60&quot;
sqldf(query)</code></pre>
<pre><code>##     playerID teamID yearID HR SO
## 1  hornsro01    SLN   1922 42 50
## 2  willicy01    PHI   1923 41 57
## 3    ottme01    NY1   1929 42 38
## 4  gehrilo01    NYA   1931 46 56
## 5   ruthba01    NYA   1931 46 51
## 6  gehrilo01    NYA   1934 49 31
## 7  gehrilo01    NYA   1936 49 46
## 8  troskha01    CLE   1936 42 58
## 9  dimagjo01    NYA   1937 46 37
## 10  mizejo01    SLN   1940 43 49
## 11  mizejo01    NY1   1947 51 42
## 12 willite01    BOS   1949 43 48
## 13 kinerra01    PIT   1951 42 57
## 14 camparo01    BRO   1953 41 58
## 15 rosenal01    CLE   1953 43 48
## 16 kluszte01    CIN   1954 49 35
## 17  mayswi01    NY1   1954 41 57
## 18 kluszte01    CIN   1955 47 40
## 19 aaronha01    ML1   1957 44 58
## 20 sievero01    WS1   1957 42 55
## 21 aaronha01    ATL   1969 44 47
## 22 aaronha01    ATL   1971 47 58
## 23 thomafr04    CHA   1993 41 54
## 24 bondsba01    SFN   2002 46 47
## 25 bondsba01    SFN   2003 45 58
## 26 bondsba01    SFN   2004 45 41
## 27 pujolal01    SLN   2004 46 52
## 28 pujolal01    SLN   2006 49 50</code></pre>
<p>As you can see with the data below, we can even narrow it down to Philadelphia Phillies in the 1970s who had more than 30 home runs in a season.</p>
<pre class="r"><code>query&lt;-&quot;SELECT playerID,teamID,yearID,HR FROM Batting
WHERE teamID=&#39;PHI&#39; and HR&gt;30 and yearID&lt;=1979 and yearID&gt;=1970&quot;
sqldf(query)</code></pre>
<pre><code>##    playerID teamID yearID HR
## 1 johnsde01    PHI   1971 34
## 2 schmimi01    PHI   1974 36
## 3 luzingr01    PHI   1975 34
## 4 schmimi01    PHI   1975 38
## 5 schmimi01    PHI   1976 38
## 6 luzingr01    PHI   1977 39
## 7 schmimi01    PHI   1977 38
## 8 luzingr01    PHI   1978 35
## 9 schmimi01    PHI   1979 45</code></pre>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Category
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/r'>R</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    

    
        <li><a href="https://jeremysblog.netlify.com/post/time-series/"
                class="button big next">Time Series</a></li>
    
</ul>





    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <a href="/" class="logo"><img src="/img/main/logo.jpg" alt="Jeremy&#39;s Blog" /></a>
                
            
            
                <header>
                    <h2>Jeremy&#39;s Blog</h2>
                    <p>A look into the life of a Mercyhurst University Intelligence Studies student</p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jdahl72" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:jdahl72@lakers.mercyhurst.edu" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://jeremysblog.netlify.com/post/bar-plots/">Bar Plots</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-12'>
                                    December 12, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://jeremysblog.netlify.com/post/histograms/">Histograms</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-12'>
                                    December 12, 2017</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /blog/
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/r/">R</a>
                                <span style="float:right;">10</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories//"></a>
                                <span style="float:right;">4</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/hugo/">Hugo</a>
                                <span style="float:right;">3</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/go/">Go</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/jekyll/">Jekyll</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        

    
        <section id="footer">
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jdahl72" target="_blank" title="GitHub" class="fa fa-github"></a></li>



















































<li><a href="mailto:jdahl72@lakers.mercyhurst.edu" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; 2017 Jeremy&#39;s Blog. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

      </div>
      <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
      

      
        
      

      
      
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>
        <script src="/js/util.js"></script>
        <script src="/js/main.js"></script>
        <script src="/js/backToTop.js"></script>
      

      

      
      <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>

